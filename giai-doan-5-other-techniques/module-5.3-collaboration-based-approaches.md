# MODULE 5.3: COLLABORATION-BASED APPROACHES

**Thá»i lÆ°á»£ng**: 3-4 giá» | **Äá»™ khÃ³**: â­â­

---

## Má»¤C TIÃŠU Há»ŒC Táº¬P

Sau khi hoÃ n thÃ nh module nÃ y, báº¡n sáº½:

| ID | Má»¥c tiÃªu | Level |
|----|----------|-------|
| FL-4.5.1 | Viáº¿t user story vá»›i 3 C's | K3 |
| FL-4.5.2 | Sá»­ dá»¥ng INVEST criteria | K3 |
| FL-4.5.3 | Viáº¿t acceptance criteria (Given-When-Then) | K3 |
| FL-4.5.4 | Giáº£i thÃ­ch ATDD process | K2 |

---

## 1. COLLABORATION-BASED APPROACHES

### 1.1. Tá»•ng Quan

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          COLLABORATION-BASED TEST APPROACHES                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“– Äá»ŠNH NGHÄ¨A:                                               â•‘
â•‘     Test approaches táº­p trung vÃ o COLLABORATION giá»¯a         â•‘
â•‘     cÃ¡c stakeholders Ä‘á»ƒ táº¡o test conditions                  â•‘
â•‘                                                               â•‘
â•‘  ğŸ‘¥ STAKEHOLDERS:                                             â•‘
â•‘     â€¢ Business representatives (PO, BA)                      â•‘
â•‘     â€¢ Developers                                             â•‘
â•‘     â€¢ Testers                                                â•‘
â•‘     â€¢ Users                                                  â•‘
â•‘                                                               â•‘
â•‘  ğŸ¯ Má»¤C ÄÃCH:                                                 â•‘
â•‘     â€¢ SHARED UNDERSTANDING cá»§a requirements                  â•‘
â•‘     â€¢ Define acceptance criteria TOGETHER                    â•‘
â•‘     â€¢ Prevent misunderstandings                              â•‘
â•‘     â€¢ Build quality in                                       â•‘
â•‘                                                               â•‘
â•‘  ğŸ”§ TECHNIQUES:                                               â•‘
â•‘     1. User Stories (3 C's)                                  â•‘
â•‘     2. INVEST Criteria                                       â•‘
â•‘     3. Acceptance Criteria (Given-When-Then)                 â•‘
â•‘     4. ATDD (Acceptance Test-Driven Development)             â•‘
â•‘                                                               â•‘
â•‘  âœ… Lá»¢I ÃCH:                                                  â•‘
â•‘     â€¢ Reduce defects (clear requirements)                    â•‘
â•‘     â€¢ Faster feedback                                        â•‘
â•‘     â€¢ Better team alignment                                  â•‘
â•‘     â€¢ Living documentation                                   â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 2. USER STORIES

### 2.1. User Story LÃ  GÃ¬?

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      USER STORY                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“– Äá»ŠNH NGHÄ¨A:                                               â•‘
â•‘     Short, simple description cá»§a feature tá»« USER PERSPECTIVEâ•‘
â•‘                                                               â•‘
â•‘  ğŸ“ FORMAT:                                                   â•‘
â•‘                                                               â•‘
â•‘     As a [role],                                             â•‘
â•‘     I want [feature],                                        â•‘
â•‘     So that [benefit].                                       â•‘
â•‘                                                               â•‘
â•‘  VÃ Dá»¤:                                                       â•‘
â•‘     As a Shopee customer,                                    â•‘
â•‘     I want to save items to wishlist,                        â•‘
â•‘     So that I can purchase them later.                       â•‘
â•‘                                                               â•‘
â•‘  ğŸ¯ Má»¤C ÄÃCH:                                                 â•‘
â•‘     â€¢ Capture WHAT user needs (not HOW to build)             â•‘
â•‘     â€¢ Focus on value to user                                 â•‘
â•‘     â€¢ Enable conversation                                    â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 2.2. The 3 C's

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    THE 3 C's OF USER STORIES                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“‡ 1. CARD                                                   â•‘
â•‘     â†’ User story written on physical/virtual card            â•‘
â•‘     â†’ SHORT format (As a... I want... So that...)           â•‘
â•‘     â†’ Placeholder for conversation                           â•‘
â•‘     â†’ NOT full specification                                 â•‘
â•‘                                                               â•‘
â•‘  ğŸ’¬ 2. CONVERSATION                                           â•‘
â•‘     â†’ Discussion giá»¯a team vÃ  stakeholders                   â•‘
â•‘     â†’ Clarify details, ask questions                         â•‘
â•‘     â†’ Explore edge cases                                     â•‘
â•‘     â†’ Happens throughout development                         â•‘
â•‘                                                               â•‘
â•‘  âœ… 3. CONFIRMATION                                           â•‘
â•‘     â†’ Acceptance criteria                                    â•‘
â•‘     â†’ HOW to confirm story is "Done"                         â•‘
â•‘     â†’ Written as testable conditions                         â•‘
â•‘     â†’ Basis for acceptance tests                             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**VÃ­ dá»¥ Ä‘áº§y Ä‘á»§**:

**CARD**:
```
US-123: Wishlist Management

As a Shopee customer,
I want to save items to my wishlist,
So that I can purchase them later when I have budget.
```

**CONVERSATION** (meeting notes):
```
Q: How many items can be in wishlist?
A: Maximum 100 items

Q: What happens when item out of stock?
A: Show "Out of stock" badge, keep in wishlist

Q: Can user add same item twice?
A: No, show message "Already in wishlist"

Q: Wishlist synced across devices?
A: Yes, if user logged in
```

**CONFIRMATION** (Acceptance Criteria):
```
AC1: User can add item to wishlist from product page
AC2: User can view all wishlist items in "My Wishlist" page
AC3: User can remove item from wishlist
AC4: Wishlist limited to 100 items
AC5: Duplicate items not allowed
AC6: Wishlist persists across sessions (if logged in)
```

---

## 3. INVEST CRITERIA

### 3.1. INVEST LÃ  GÃ¬?

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    INVEST CRITERIA                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“– Äá»ŠNH NGHÄ¨A:                                               â•‘
â•‘     6 characteristics cá»§a GOOD user story                    â•‘
â•‘                                                               â•‘
â•‘  ğŸ”¤ I - INDEPENDENT                                           â•‘
â•‘     â†’ Story khÃ´ng depend on other stories                    â•‘
â•‘     â†’ CÃ³ thá»ƒ develop theo báº¥t ká»³ order nÃ o                  â•‘
â•‘     â†’ Giáº£m dependencies, tÄƒng flexibility                    â•‘
â•‘                                                               â•‘
â•‘  ğŸ“ N - NEGOTIABLE                                            â•‘
â•‘     â†’ Details cÃ³ thá»ƒ negotiate vá»›i team                      â•‘
â•‘     â†’ KhÃ´ng pháº£i fixed contract                              â•‘
â•‘     â†’ Encourage conversation                                 â•‘
â•‘                                                               â•‘
â•‘  ğŸ’ V - VALUABLE                                              â•‘
â•‘     â†’ Deliver value cho user/customer                        â•‘
â•‘     â†’ Focus on benefits, not technical tasks                 â•‘
â•‘     â†’ PO cÃ³ thá»ƒ explain value                                â•‘
â•‘                                                               â•‘
â•‘  ğŸ“Š E - ESTIMABLE                                             â•‘
â•‘     â†’ Team cÃ³ thá»ƒ estimate effort                            â•‘
â•‘     â†’ Äá»§ rÃµ rÃ ng Ä‘á»ƒ size story                              â•‘
â•‘     â†’ Náº¿u khÃ´ng estimable â†’ cáº§n refine                      â•‘
â•‘                                                               â•‘
â•‘  ğŸ­ S - SMALL                                                 â•‘
â•‘     â†’ Fit trong 1 sprint/iteration                           â•‘
â•‘     â†’ KhÃ´ng quÃ¡ lá»›n (epic)                                  â•‘
â•‘     â†’ CÃ³ thá»ƒ complete vÃ  demo                                â•‘
â•‘                                                               â•‘
â•‘  ğŸ§ª T - TESTABLE                                              â•‘
â•‘     â†’ CÃ³ acceptance criteria rÃµ rÃ ng                         â•‘
â•‘     â†’ CÃ³ thá»ƒ verify "Done"                                   â•‘
â•‘     â†’ Pass/Fail criteria                                     â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 3.2. VÃ­ Dá»¥: ÄÃ¡nh GiÃ¡ User Story Theo INVEST

**User Story**:
```
As a Grab driver,
I want to see estimated earnings for each trip,
So that I can decide whether to accept the trip.
```

**ÄÃ¡nh giÃ¡ INVEST**:

| Criterion | âœ…/âŒ | Giáº£i thÃ­ch |
|-----------|-------|------------|
| **I**ndependent | âœ… | KhÃ´ng depend on other stories, cÃ³ thá»ƒ develop Ä‘á»™c láº­p |
| **N**egotiable | âœ… | Details (formula, UI) cÃ³ thá»ƒ discuss vá»›i team |
| **V**aluable | âœ… | Clear value: Driver biáº¿t income trÆ°á»›c khi accept |
| **E**stimable | âœ… | Team cÃ³ thá»ƒ estimate (maybe 3-5 story points) |
| **S**mall | âœ… | Fit trong 1 sprint (2 weeks) |
| **T**estable | âœ… | CÃ³ thá»ƒ write acceptance criteria vÃ  test |

**Verdict**: Good user story! âœ…

---

**Bad Example**:
```
As a developer,
I want to refactor the database layer,
So that the code is cleaner.
```

**ÄÃ¡nh giÃ¡ INVEST**:

| Criterion | âœ…/âŒ | Problem |
|-----------|-------|---------|
| **I**ndependent | âš ï¸ | Might affect other features |
| **N**egotiable | âœ… | OK |
| **V**aluable | âŒ | No value to USER (only technical) |
| **E**stimable | âš ï¸ | Refactoring scope unclear |
| **S**mall | âŒ | "Refactor database" too big |
| **T**estable | âŒ | How to verify "cleaner code"? |

**Problems**:
- âŒ Not valuable to user (technical task)
- âŒ Too big, unclear scope
- âŒ Not testable

**Better split**:
- Technical tasks nÃªn lÃ  subtasks cá»§a user-facing stories
- Hoáº·c create Spike Ä‘á»ƒ investigate

---

## 4. ACCEPTANCE CRITERIA

### 4.1. Acceptance Criteria LÃ  GÃ¬?

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  ACCEPTANCE CRITERIA (AC)                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“– Äá»ŠNH NGHÄ¨A:                                               â•‘
â•‘     Conditions mÃ  user story pháº£i satisfy Ä‘á»ƒ Ä‘Æ°á»£c "Done"     â•‘
â•‘                                                               â•‘
â•‘  ğŸ¯ Má»¤C ÄÃCH:                                                 â•‘
â•‘     â€¢ Define scope cá»§a story                                 â•‘
â•‘     â€¢ Shared understanding                                   â•‘
â•‘     â€¢ Basis for testing                                      â•‘
â•‘     â€¢ Definition of "Done"                                   â•‘
â•‘                                                               â•‘
â•‘  ğŸ“ FORMATS:                                                  â•‘
â•‘     1. Scenario-based (Given-When-Then)                      â•‘
â•‘     2. Rule-based (bullet points)                            â•‘
â•‘                                                               â•‘
â•‘  âœ… GOOD AC:                                                  â•‘
â•‘     â€¢ Testable (cÃ³ thá»ƒ verify)                              â•‘
â•‘     â€¢ Clear (khÃ´ng ambiguous)                                â•‘
â•‘     â€¢ Concise (ngáº¯n gá»n)                                    â•‘
â•‘     â€¢ Measurable (cÃ³ criteria rÃµ rÃ ng)                      â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 4.2. Given-When-Then Format

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  GIVEN-WHEN-THEN FORMAT                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“ STRUCTURE:                                                â•‘
â•‘                                                               â•‘
â•‘     GIVEN [precondition/context]                             â•‘
â•‘     WHEN [action/event]                                      â•‘
â•‘     THEN [expected outcome]                                  â•‘
â•‘                                                               â•‘
â•‘  ğŸ“– MEANING:                                                  â•‘
â•‘     â€¢ GIVEN: Initial context, setup                          â•‘
â•‘     â€¢ WHEN: Action user takes                                â•‘
â•‘     â€¢ THEN: Expected result                                  â•‘
â•‘                                                               â•‘
â•‘  âœ… Lá»¢I ÃCH:                                                  â•‘
â•‘     â€¢ Structured format                                      â•‘
â•‘     â€¢ Easy to understand                                     â•‘
â•‘     â€¢ Directly maps to test cases                            â•‘
â•‘     â€¢ Supported by BDD tools (Cucumber, SpecFlow)           â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 4.3. VÃ­ Dá»¥: Given-When-Then

**User Story**: Login functionality

**Acceptance Criteria**:

**AC1: Successful login**
```gherkin
GIVEN user is on login page
  AND user has valid account (username: "test@email.com", password: "Test@123")
WHEN user enters valid username and password
  AND clicks "Login" button
THEN user is redirected to dashboard
  AND welcome message "Welcome, Test User!" is displayed
```

**AC2: Failed login - Invalid credentials**
```gherkin
GIVEN user is on login page
WHEN user enters invalid username or password
  AND clicks "Login" button
THEN login fails
  AND error message "Invalid username or password" is displayed
  AND user remains on login page
```

**AC3: Account lockout**
```gherkin
GIVEN user has entered wrong password 2 times
WHEN user enters wrong password 3rd time
THEN account is locked for 30 minutes
  AND message "Account locked. Try again in 30 minutes." is displayed
```

**AC4: Password visibility toggle**
```gherkin
GIVEN user is on login page
WHEN user clicks "Show password" icon
THEN password is displayed in plain text
WHEN user clicks icon again
THEN password is hidden (shown as dots)
```

### 4.4. VÃ­ Dá»¥: Rule-Based Format

**User Story**: Apply discount code

**Acceptance Criteria** (bullet points):

```
âœ“ User can enter discount code in "Promo code" field
âœ“ Valid discount code applies discount to order total
âœ“ Discount amount shown separately in order summary
âœ“ Invalid discount code shows error "Invalid code"
âœ“ Expired discount code shows error "Code expired"
âœ“ Only 1 discount code allowed per order
âœ“ Discount applies before tax calculation
âœ“ Discount cannot reduce total below 0
```

### 4.5. VÃ­ Dá»¥ Thá»±c Táº¿: Grab Booking

**User Story**:
```
As a Grab passenger,
I want to book a ride,
So that I can travel from point A to point B.
```

**Acceptance Criteria (Given-When-Then)**:

**Scenario 1: Successful booking**
```gherkin
GIVEN passenger app is open
  AND passenger location is detected (Nguyen Hue, D1, HCMC)
WHEN passenger enters destination "Ben Thanh Market"
  AND selects "GrabCar" service
  AND confirms booking
THEN system finds nearest driver
  AND shows driver details (name, photo, vehicle, ETA)
  AND booking status is "Finding driver"
```

**Scenario 2: No drivers available**
```gherkin
GIVEN passenger app is open
WHEN passenger tries to book ride
  AND no drivers available in area
THEN message "No drivers available. Please try again." is displayed
  AND booking is not created
```

**Scenario 3: Estimate fare before booking**
```gherkin
GIVEN passenger has entered pickup and destination
WHEN passenger views booking screen
THEN estimated fare range is displayed (e.g., "50,000 - 60,000 VND")
  AND estimated time is displayed (e.g., "15-20 mins")
```

---

## 5. ACCEPTANCE TEST-DRIVEN DEVELOPMENT (ATDD)

### 5.1. ATDD LÃ  GÃ¬?

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ACCEPTANCE TEST-DRIVEN DEVELOPMENT (ATDD)              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸ“– Äá»ŠNH NGHÄ¨A:                                               â•‘
â•‘     Development approach:                                    â•‘
â•‘     1. Define ACCEPTANCE TESTS trÆ°á»›c                         â•‘
â•‘     2. Develop code Ä‘á»ƒ pass tests                            â•‘
â•‘     3. Acceptance tests = executable specifications          â•‘
â•‘                                                               â•‘
â•‘  ğŸ”„ ATDD PROCESS:                                             â•‘
â•‘                                                               â•‘
â•‘     1. SPECIFICATION WORKSHOP                                â•‘
â•‘        â†’ PO, Dev, Tester collaborate                         â•‘
â•‘        â†’ Write user story                                    â•‘
â•‘        â†’ Define acceptance criteria (Given-When-Then)        â•‘
â•‘                                                               â•‘
â•‘     2. CREATE ACCEPTANCE TESTS                               â•‘
â•‘        â†’ Turn AC into executable tests                       â•‘
â•‘        â†’ Initially FAIL (feature not built yet)              â•‘
â•‘                                                               â•‘
â•‘     3. IMPLEMENT FEATURE                                     â•‘
â•‘        â†’ Developers code feature                             â•‘
â•‘        â†’ Guided by acceptance tests                          â•‘
â•‘                                                               â•‘
â•‘     4. RUN TESTS                                             â•‘
â•‘        â†’ Execute acceptance tests                            â•‘
â•‘        â†’ Tests PASS when feature complete                    â•‘
â•‘                                                               â•‘
â•‘     5. REFACTOR                                              â•‘
â•‘        â†’ Improve code quality                                â•‘
â•‘        â†’ Tests ensure no regression                          â•‘
â•‘                                                               â•‘
â•‘  âœ… Lá»¢I ÃCH:                                                  â•‘
â•‘     â€¢ Clear requirements before coding                       â•‘
â•‘     â€¢ Shared understanding                                   â•‘
â•‘     â€¢ Automated regression suite                             â•‘
â•‘     â€¢ Living documentation                                   â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 5.2. ATDD vs TDD vs BDD

| Aspect | TDD | ATDD | BDD |
|--------|-----|------|-----|
| **Level** | Unit (code) | Acceptance (feature) | Behavior (user) |
| **Who writes** | Developers | Devs + Testers + PO | Whole team |
| **Language** | Code (tests) | Given-When-Then | Given-When-Then (Gherkin) |
| **Focus** | Internal logic | External behavior | User behavior |
| **Tests** | Unit tests | Acceptance tests | Behavior specs |
| **Tools** | JUnit, pytest | FitNesse, Robot | Cucumber, SpecFlow |

**Relationship**:
- **TDD**: Developer writes unit test â†’ code â†’ refactor (Red-Green-Refactor)
- **ATDD**: Team defines acceptance tests â†’ develop â†’ pass tests
- **BDD**: ATDD + natural language (Gherkin) + focus on behavior

### 5.3. ATDD Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ITERATION / SPRINT START                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  1. SPECIFICATION        â”‚
        â”‚     WORKSHOP             â”‚
        â”‚  â€¢ PO presents story     â”‚
        â”‚  â€¢ Team discusses        â”‚
        â”‚  â€¢ Write AC (GWT)        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  2. CREATE ACCEPTANCE    â”‚
        â”‚     TESTS                â”‚
        â”‚  â€¢ Tester writes tests   â”‚
        â”‚  â€¢ Initially FAIL (RED)  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  3. IMPLEMENT FEATURE    â”‚
        â”‚  â€¢ Developer codes       â”‚
        â”‚  â€¢ Guided by tests       â”‚
        â”‚  â€¢ Run tests frequently  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  4. TESTS PASS (GREEN)   â”‚
        â”‚  â€¢ Feature complete      â”‚
        â”‚  â€¢ All AC satisfied      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  5. REFACTOR             â”‚
        â”‚  â€¢ Improve code          â”‚
        â”‚  â€¢ Tests ensure no       â”‚
        â”‚    regression            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  DEMO TO STAKEHOLDERS    â”‚
        â”‚  â€¢ Show working feature  â”‚
        â”‚  â€¢ AC as proof           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4. VÃ­ Dá»¥ ATDD: Shopping Cart

**1. Specification Workshop**

**User Story**:
```
As a Shopee customer,
I want to add items to cart,
So that I can purchase multiple items together.
```

**Acceptance Criteria (Given-When-Then)**:
```gherkin
Scenario 1: Add item to empty cart
  GIVEN cart is empty
  WHEN customer adds "iPhone 15" to cart
  THEN cart contains 1 item
    AND cart total is 25,000,000 VND

Scenario 2: Add multiple quantities
  GIVEN cart is empty
  WHEN customer adds "iPhone 15" with quantity 2
  THEN cart contains 2 items
    AND cart total is 50,000,000 VND

Scenario 3: Maximum quantity limit
  GIVEN cart is empty
  WHEN customer tries to add "iPhone 15" with quantity 100
  THEN error "Maximum 10 items per product" is shown
    AND cart remains empty
```

**2. Create Acceptance Tests** (using Cucumber/Gherkin)

```gherkin
Feature: Shopping Cart

  Scenario: Add item to empty cart
    Given the cart is empty
    When I add "iPhone 15" to cart
    Then the cart should contain 1 item
    And the cart total should be "25,000,000 VND"

  Scenario: Add multiple quantities
    Given the cart is empty
    When I add "iPhone 15" with quantity 2
    Then the cart should contain 2 items
    And the cart total should be "50,000,000 VND"

  Scenario: Maximum quantity limit
    Given the cart is empty
    When I try to add "iPhone 15" with quantity 100
    Then I should see error "Maximum 10 items per product"
    And the cart should remain empty
```

**Step Definitions** (Code that executes steps):
```javascript
Given('the cart is empty', function() {
  this.cart = new ShoppingCart();
});

When('I add {string} to cart', function(productName) {
  this.product = { name: productName, price: 25000000 };
  this.cart.addItem(this.product);
});

Then('the cart should contain {int} item(s)', function(count) {
  assert.equal(this.cart.itemCount(), count);
});

Then('the cart total should be {string}', function(total) {
  assert.equal(this.cart.total(), total);
});
```

**3. Run Tests** â†’ Initially FAIL (feature not implemented)

**4. Implement Feature**
```javascript
class ShoppingCart {
  constructor() {
    this.items = [];
  }

  addItem(product, quantity = 1) {
    if (quantity > 10) {
      throw new Error("Maximum 10 items per product");
    }
    for (let i = 0; i < quantity; i++) {
      this.items.push(product);
    }
  }

  itemCount() {
    return this.items.length;
  }

  total() {
    return this.items.reduce((sum, item) => sum + item.price, 0);
  }
}
```

**5. Run Tests Again** â†’ Tests PASS âœ…

**6. Refactor** â†’ Improve code, tests ensure no regression

---

## 6. BEST PRACTICES

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     BEST PRACTICES                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  âœ… USER STORIES:                                             â•‘
â•‘     â€¢ Keep them SMALL (fit in 1 sprint)                      â•‘
â•‘     â€¢ Focus on USER VALUE, not technical details             â•‘
â•‘     â€¢ Use INVEST criteria to validate                        â•‘
â•‘     â€¢ Encourage conversation (3 C's)                         â•‘
â•‘                                                               â•‘
â•‘  âœ… ACCEPTANCE CRITERIA:                                      â•‘
â•‘     â€¢ Write BEFORE implementation                            â•‘
â•‘     â€¢ Make them TESTABLE                                     â•‘
â•‘     â€¢ Use Given-When-Then for clarity                        â•‘
â•‘     â€¢ Cover happy path + edge cases                          â•‘
â•‘     â€¢ Review with whole team                                 â•‘
â•‘                                                               â•‘
â•‘  âœ… ATDD:                                                     â•‘
â•‘     â€¢ Start with Specification Workshop                      â•‘
â•‘     â€¢ Collaborate: PO + Dev + Tester                         â•‘
â•‘     â€¢ Automate acceptance tests                              â•‘
â•‘     â€¢ Use tests as living documentation                      â•‘
â•‘     â€¢ Keep tests maintainable                                â•‘
â•‘                                                               â•‘
â•‘  âœ… COLLABORATION:                                            â•‘
â•‘     â€¢ Three Amigos meetings (PO, Dev, Tester)                â•‘
â•‘     â€¢ Shared understanding lÃ  KEY                            â•‘
â•‘     â€¢ Ask questions early                                    â•‘
â•‘     â€¢ Document decisions                                     â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 7. CÃ‚U Há»I Ã”N Táº¬P

### CÃ¢u 1 (K2)
3 C's cá»§a user stories lÃ  gÃ¬?

A. Code, Commit, Check
B. Card, Conversation, Confirmation
C. Create, Collaborate, Complete
D. Context, Condition, Consequence

<details>
<summary>ÄÃ¡p Ã¡n</summary>

**B. Card, Conversation, Confirmation**

Card: Written story
Conversation: Discussion with team
Confirmation: Acceptance criteria
</details>

---

### CÃ¢u 2 (K2)
Trong INVEST, "V" stands for?

A. Verified
B. Validated
C. Valuable
D. Variable

<details>
<summary>ÄÃ¡p Ã¡n</summary>

**C. Valuable**

User story pháº£i deliver value cho user/customer.
</details>

---

### CÃ¢u 3 (K3)
Given-When-Then format, "Given" represents gÃ¬?

A. Expected result
B. Action user takes
C. Precondition/context
D. Test data

<details>
<summary>ÄÃ¡p Ã¡n</summary>

**C. Precondition/context**

GIVEN: Initial state/context
WHEN: Action
THEN: Expected outcome
</details>

---

### CÃ¢u 4 (K2)
ATDD process báº¯t Ä‘áº§u vá»›i bÆ°á»›c nÃ o?

A. Write code
B. Write unit tests
C. Define acceptance criteria vá»›i team
D. Deploy to production

<details>
<summary>ÄÃ¡p Ã¡n</summary>

**C. Define acceptance criteria vá»›i team**

ATDD starts vá»›i Specification Workshop - team collaborates Ä‘á»ƒ define acceptance criteria.
</details>

---

### CÃ¢u 5 (K2)
User story nÃ o vi pháº¡m INVEST "V" (Valuable)?

A. As a customer, I want to view order history
B. As a user, I want to reset my password
C. As a developer, I want to refactor code
D. As an admin, I want to manage users

<details>
<summary>ÄÃ¡p Ã¡n</summary>

**C. As a developer, I want to refactor code**

KhÃ´ng valuable cho user/customer - chá»‰ technical benefit.
</details>

---

### CÃ¢u 6 (K2)
Acceptance criteria nÃªn Ä‘Æ°á»£c written khi nÃ o?

A. After implementation
B. During testing phase
C. Before implementation starts
D. After deployment

<details>
<summary>ÄÃ¡p Ã¡n</summary>

**C. Before implementation starts**

AC define "Done" criteria, nÃªn written trÆ°á»›c khi code Ä‘á»ƒ shared understanding.
</details>

---

## 8. CHECKLIST Tá»° ÄÃNH GIÃ

### User Stories
- [ ] Viáº¿t Ä‘Æ°á»£c user story theo format (As a... I want... So that...)
- [ ] Hiá»ƒu 3 C's (Card, Conversation, Confirmation)
- [ ] CÃ³ thá»ƒ apply 3 C's trong practice
- [ ] PhÃ¢n biá»‡t good vs bad user stories

### INVEST Criteria
- [ ] Biáº¿t 6 criteria cá»§a INVEST
- [ ] CÃ³ thá»ƒ evaluate user story theo INVEST
- [ ] Hiá»ƒu táº¡i sao má»—i criterion quan trá»ng
- [ ] Biáº¿t improve user story khÃ´ng meet INVEST

### Acceptance Criteria
- [ ] Viáº¿t Ä‘Æ°á»£c AC theo Given-When-Then format
- [ ] Hiá»ƒu difference giá»¯a scenario-based vs rule-based AC
- [ ] Cover Ä‘Æ°á»£c happy path + edge cases
- [ ] AC testable vÃ  clear

### ATDD
- [ ] Hiá»ƒu ATDD process (5 steps)
- [ ] PhÃ¢n biá»‡t TDD vs ATDD vs BDD
- [ ] Biáº¿t lá»£i Ã­ch cá»§a ATDD
- [ ] Hiá»ƒu vai trÃ² cá»§a má»—i team member trong ATDD

---

## Tá»”NG Káº¾T

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    KEY TAKEAWAYS                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  1. Collaboration-based = CÃ¹ng nhau define requirements      â•‘
â•‘                                                               â•‘
â•‘  2. User Stories:                                            â•‘
â•‘     â†’ Format: As a [role], I want [feature], So that [ben]  â•‘
â•‘     â†’ 3 C's: Card, Conversation, Confirmation                â•‘
â•‘                                                               â•‘
â•‘  3. INVEST Criteria:                                         â•‘
â•‘     â†’ Independent, Negotiable, Valuable                      â•‘
â•‘     â†’ Estimable, Small, Testable                             â•‘
â•‘                                                               â•‘
â•‘  4. Acceptance Criteria:                                     â•‘
â•‘     â†’ Define "Done"                                          â•‘
â•‘     â†’ Given-When-Then format                                 â•‘
â•‘     â†’ Testable, Clear, Concise                               â•‘
â•‘                                                               â•‘
â•‘  5. ATDD Process:                                            â•‘
â•‘     â†’ Workshop â†’ Write tests â†’ Implement â†’ Pass â†’ Refactor  â•‘
â•‘     â†’ Whole team collaboration                               â•‘
â•‘                                                               â•‘
â•‘  6. Benefits:                                                â•‘
â•‘     â†’ Shared understanding                                   â•‘
â•‘     â†’ Prevent misunderstandings                              â•‘
â•‘     â†’ Living documentation                                   â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**Tiáº¿p theo**: [BÃ i Táº­p Giai Äoáº¡n 5](./bai-tap-giai-doan-5.md)

---

**Version**: 1.0.0
**Last Updated**: November 2025
